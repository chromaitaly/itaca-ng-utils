/*****************************************************************/
/** chroma-utils v1.0.0 07-11-2017	**/
/** chroma-utils, logos and all images are registered     	**/
/** trademarks of Chroma Italy Hotels srl.                     	**/
/** All rights reserved.                                     	**/
/** Registration code: 21-11-2016/011058        	**/
/** 						                                 	**/
/**                               Chroma Italy Hotels srl ® 2016	**/
/*****************************************************************/
!function(){"use strict";angular.module("chroma.utils",["ngMaterial"])}(),function(){"use strict";function e(e,i){var n=function(i){var n={};if(e.$broadcast("onBeforeUnload",n).defaultPrevented)return n.message};return i.addEventListener("beforeunload",n),i.onbeforeunload=n,i.onunload=function(){e.$broadcast("onUnload")},{}}e.$inject=["$rootScope","$window"],angular.module("chroma.utils").factory("_beforeUnload",e)}(),function(){"use strict";angular.module("chroma.utils").factory("ContactUtils",function(){var e={};return e.getUri=function(e,i){var n="";switch(e){case"PHONE":case"MOBILE":case"FAX":n="tel:";break;case"MAIL":n="mailto:";break;case"WEBSITE":n="http://";break;case"FACEBOOK":n="https://www.facebook.com/";break;case"TWITTER":n="https://www.twitter.com/";break;case"INSTAGRAM":n="https://www.instagram.com/";break;default:n="http://"}return n+i},e})}(),function(){"use strict";function e(e,i,n,t){var r={};return r.absoluteDate=function(e,i){return r.absoluteMoment(e,i).toDate()},r.absoluteMoment=function(e,n){var t=e?i(e):i(),r=i(t).utc([t.year(),t.month(),t.date()]);return n?r:r.startOf("day")},r.dateForTimezone=function(e,n){return i.tz(e,n)},r.hotelDate=function(e){return t.hotel&&t.hotel.addressInfo&&t.hotel.addressInfo.timeZoneId?r.dateForTimezone(t.hotel.addressInfo.timeZoneId):i(e).utcOffset((t.defaultOffset||0)/60)},r.convertDateStringsToDates=function(i,t,o){if("object"!=typeof i)return i;t=t||10,o=o||0;for(var a in i)if(i.hasOwnProperty(a)){var c,s=i[a];if("string"==typeof s&&(c=s.match(n.dateString))){var u=c[0];try{var f=Date.parse(u);isNaN(f)||(i[a]=new Date(f)),u=void 0,f=void 0}catch(i){e.warn("Error converting date '"+u+"': "+i)}}else"object"==typeof s&&o<t&&r.convertDateStringsToDates(s,t,o+1)}},r.weekdays=function(){var e=[];return _.forEach(i.weekdays(!0),function(n,t){var r=i().day(n);e.push({label:n,day:r.day(),weekday:r.weekday(),isoWeekday:r.isoWeekday()})}),e},r.secondsToOffsetString=function(e){if(_.isNil(e))return"";if(e=Number(e),_.isNaN(e))return"";var i=String(Math.floor(Math.abs(e)/3600));i=i.length<2?"0"+i:i;var n=String(Math.floor(Math.abs(e)%3600/60));return n=n.length<2?"0"+n:n,(e>0?"+":"-")+i+n},r.rangeTimeChecker=function(e,n,t){var r=i.utc(e).seconds(0).milliseconds(0),o=i.utc(n),a=i(r).hours(o.hours()).minutes(o.minutes()).seconds(0).milliseconds(0),c=i.utc(t),s=i(r).hours(c.hours()).minutes(c.minutes()).seconds(0).milliseconds(0);return s=s.hours()>=a.hours()&&s.hours()<=23?s:s.add(1,"days"),r=r.hours()>=a.hours()&&r.hours()<=23?r:r.add(1,"days"),i.range(a,s).contains(r)},r}e.$inject=["$log","moment","REGEXP","AppOptions"],angular.module("chroma.utils").factory("DateUtils",e)}(),function(){"use strict";function e(e){var i={};return i.focusFirstInvalid=function(n){var t=angular.isObject(n)?n:document.getElementsByName(n)[0];if(t&&angular.isElement(t)&&angular.isFunction(t.querySelector)){var r=t.querySelector(".ng-invalid:not([disabled]):not([type='hidden'])");return!!r&&(_.isEqual(r.tagName.toLowerCase(),"ng-form")?i.focusFirstInvalid(r):(r.focus(),e.scrollToElementAnimated(r),!0))}},i.focusFirstInput=function(n){var t=angular.isObject(n)?n:document.getElementsByName(n)[0];if(t&&angular.isElement(t)&&angular.isFunction(t.querySelector)){var r=t.querySelector("input:not([disabled]):not([type='hidden'])");return!!r&&(r.focus(),e.scrollToElementAnimated(r,i.offset),!0)}},i.isInvalid=function(e){var i=document[e];if(i&&angular.isFunction(i.querySelector))return!!i.querySelector(".ng-invalid")},i}e.$inject=["$document"],angular.module("chroma.utils").factory("FormUtils",e)}(),function(){"use strict";function e(e){var i={};return i.isElementInView=function(i,n){var t=angular.element(i)[0];if(!t)return!1;var r=e.pageYOffset,o=r+e.innerHeight,a=t.offsetTop,c=a+t.offsetHeight;return!0===n?r<a&&o>c:a<=o&&c>=r},i.getScrollParent=function(e){var n=angular.element(e)[0];return null===n?null:n.scrollHeight>n.clientHeight?n:i.getScrollParent(n.parentNode)},i}e.$inject=["$window"],angular.module("chroma.utils").factory("HtmlUtils",e)}(),function(){"use strict";angular.module("chroma.utils").factory("IconUtils",function(){var e={};return e.languageIcons=function(){return{ITALIAN:{icon:"flag-icon flag-icon-it"},ENGLISH:{icon:"flag-icon flag-icon-gb"},FRENCH:{icon:"flag-icon flag-icon-fr"},SPANISH:{icon:"flag-icon flag-icon-es"},GERMAN:{icon:"flag-icon flag-icon-de"},PORTUGUESE:{icon:"flag-icon flag-icon-pt"},RUSSIAN:{icon:"flag-icon flag-icon-ru"},MANDARIN:{icon:"flag-icon flag-icon-cn"},HINDI:{icon:"flag-icon flag-icon-in"},ARABIC:{icon:"flag-icon flag-icon-sa"},BENGALI:{icon:"flag-icon flag-icon-bd"},JAPANESE:{icon:"flag-icon flag-icon-jp"},PUNJABI:{icon:"flag-icon flag-icon-pk"},JAVANESE:{icon:"flag-icon flag-icon-id"},WU:{icon:"flag-icon flag-icon-cn"},MALAY_INDONESIAN:{icon:"flag-icon flag-icon-in"},TELUGU:{icon:"flag-icon flag-icon-in"},VIETNAMESE:{icon:"flag-icon flag-icon-vn"},MARATHI:{icon:"flag-icon flag-icon-in"},TAMIL:{icon:"flag-icon flag-icon-lk"},URDU:{icon:"flag-icon flag-icon-ae"},TURKISH:{icon:"flag-icon flag-icon-tr"},LANG_SIGN:{icon:"material-icons flaticon-hearing-impaired"},LANG_SIGN_IT:{icon:"material-icons flaticon-hearing-impaired"}}},e.contactIcons=function(){return{PHONE:{icon:"mdi mdi-phone",type:"contact.phone",prefix:"tel:",suffix:""},MOBILE:{icon:"mdi mdi-cellphone-android",type:"contact.mobile",prefix:"tel:",suffix:""},FAX:{icon:"mdi mdi-fax",type:"contact.fax",prefix:"tel:",suffix:""},EMAIL:{icon:"mdi mdi-email",type:"contact.email",prefix:"mailto:",suffix:""},WEBSITE:{icon:"mdi mdi-web",type:"contact.website",prefix:"",suffix:""},FACEBOOK:{icon:"mdi mdi-facebook-box",type:"contact.facebook",prefix:"https://facebook.com/",suffix:""},TWITTER:{icon:"mdi mdi-twitter-box",type:"contact.twitter",prefix:"https://twitter.com/",suffix:""},INSTAGRAM:{icon:"mdi mdi-instagram",type:"contact.instagram",prefix:"https://www.instagram.com/",suffix:""},WHATSAPP:{icon:"mdi mdi-whatsapp",type:"contact.whatsapp",prefix:bowser.ios?"whatsapp://send?":"intent://send/",suffix:bowser.ios?"":"#Intent;scheme=smsto;package=com.whatsapp;action=android.intent.action.SENDTO;end"},SKYPE:{icon:"mdi mdi-skype",type:"contact.skype",prefix:"skype://",suffix:"?call"},VIBER:{icon:"mdi mdi-phone",type:"contact.viber",prefix:"viber://forward?",suffix:""},TELEGRAM:{icon:"mdi mdi-telegram",type:"contact.telegram",prefix:"tg://",suffix:""}}},e.paymentIcons=function(){return{PAYPAL:"pf pf-paypal",VISA:"pf pf-visa",MASTERCARD:"pf pf-mastercard",AMEX:"pf pf-american-express",BIT_COIN:"pf pf-bitcoin",CARTA_SI:"pf pf-carta-si",DINERS_CLUB:"pf pf-diners",DISCOVER:"pf pf-discover",JCB:"pf pf-jcb",UNION_PAY:"pf pf-unionpay",VISA_ELECTRON:"pf pf-visa-electron",V_PAY:"pf pf-visa",MAESTRO:"pf pf-maestro",CIRRUS:"pf pf-cirrus",POSTEPAY:"pf pf-postepay",APPLE_PAY:"pf pf-apple-pay",PAGSEGURO:"pf pf-pagseguro",BANCONTACT:"pf pf-bancontact-mister-cash",BANCOMAT:"pf pf-card"}},e.serviceIcon=function(){return{"service.type.technology.console":"mdi mdi-gamepad-variant","service.type.technology.games":"mdi mdi-gamepad-variant","service.type.technology.tv.flat":"mdi mdi-monitor","service.type.technology.tv":"mdi mdi-monitor","service.type.entertainment.children.tv":"mdi mdi-monitor","service.type.popular.pet.small":"mdi mdi-paw","service.type.popular.pet.medium":"mdi mdi-paw","service.type.popular.pet.large":"mdi mdi-paw","service.type.popular.pet.disabled":"mdi mdi-paw","service.type.popular.router":"mdi mdi-router-wireless","service.type.miscellaneous.air.conditioning":"mdi mdi-air-conditioner","service.type.room.air.conditioning":"mdi mdi-air-conditioner","service.type.miscellaneous.heating":"mdi mdi-air-conditioner","service.type.transport.parking.secured":"mdi mdi-parking","service.type.transport.parking.street":"mdi mdi-parking","service.type.transport.parking.accessible":"mdi mdi-parking","service.type.popular.bouquet":"mdi mdi-flower","service.type.popular.rose":"mdi mdi-flower","service.type.popular.breakfast.continental":"mdi mdi-food-fork-drink","service.type.popular.breakfast":"mdi mdi-food-fork-drink","service.type.popular.breakfast.room":"mdi mdi-food-fork-drink","service.type.miscellaneous.non­smoking.throughout":"mdi mdi-smoking-off","service.type.miscellaneous.non­smoking.rooms":"mdi mdi-smoking-off","service.type.popular.smoking.area":"mdi mdi-smoking","service.type.popular.smoking.room":"mdi mdi-smoking","service.type.popular.wifi.room":"mdi mdi-wifi","service.type.popular.wifi.all":"mdi mdi-wifi","service.type.popular.internet.point":"mdi mdi-wifi"}},e.transfersIcon=function(){return{CAR:"flaticon-car-black-side-view-pointing-left",LIMOUSINE:"flaticon-sedan-car-model",PULLMAN:"flaticon-bus-front",SHUTTLE:"flaticon-microbus",MINIVAN:"flaticon-van-black-transport-side-view-pointing-to-left",LUXURY_CAR:"flaticon-supercar"}},e.portalIcons=function(){return{PHONE:"mdi mdi-phone material-icons",EMAIL:"mdi mdi-email material-icons",PORTAL:"channel-icon channel-chroma",BOOKING:"channel-icon channel-booking",EXPEDIA:"channel-icon channel-expedia",VENERE:"channel-icon channel-venere",AIRBNB:"channel-icon channel-airbnb",AGODA:"channel-icon channel-agoda",OTHER:"mdi mdi-web material-icons"}},e})}(),function(){"use strict";angular.module("chroma.utils").factory("NumberUtils",function(){var e={};return e.fixedDecimals=function(e,i){if(!e||0===e)return 0;var n=Number(e).toFixed(i||2);return Number(n).valueOf()},e.vatAmount=function(e,i){return this.fixedDecimals(e-this.taxableAmount(e,i))},e.taxableAmount=function(e,i){return this.fixedDecimals(i?e/((100+i)/100):e)},e.calculateDiscount=function(i,n,t){return i&&n?(i=parseFloat(i),n=parseFloat(n),t=t||"PRICE",e.fixedDecimals("PERCENTAGE"==t?i/100*n:100*n/i)):0},e.uniqueNumber=function(){var i=Date.now();return i<=e.uniqueNumber.previous?i=++e.uniqueNumber.previous:e.uniqueNumber.previous=i,i},e.uniqueNumber.previous=0,e.isEven=function(e){return e%2==0},e.isOdd=function(e){return 1==Math.abs(e%2)},e.defaultNumber=function(i,n){var t=Number(i);return isNaN(t)?e.defaultNumber(n,0):t},e.lcmArray=function(i){if(!_.isArray(i)||_.isEmpty(i))return!1;for(var n=i[0],t=1;t<i.length;t++)n=e.lcm(n,i[t]);return n},e.lcm=function(i,n){return"number"==typeof i&&"number"==typeof n&&(i&&n?Math.abs(i*n/e.gcd(i,n)):0)},e.gcd=function(e,i){for(e=Math.abs(e),i=Math.abs(i);i;){var n=i;i=e%i,e=n}return e},e})}(),function(){"use strict";angular.module("chroma.utils").factory("ObjectUtils",function(){var e={};return e.clearObject=function(e,i){if(e){var n=_.mapValues(e,function(e,n){return i&&i.test(n)?e:_.isArray(e)?[]:void 0});_.assign(e,n)}},e})}(),function(){"use strict";angular.module("chroma.utils").factory("ReviewsUtils",function(){var e={};return e.generateScoreLabel=function(e){if(e){var i;switch(e){case 4:i="review.score.bad";break;case 5:i="review.score.poor";break;case 6:i="review.score.sufficient";break;case 7:i="review.score.good";break;case 8:i="review.score.very.good";break;case 9:i="review.score.excellent";break;case 10:i="review.score.fabulous"}return i}},e})}(),function(){"use strict";angular.module("chroma.utils").factory("StringUtils",function(){var e={};return e.isBlank=function(e){return _.isUndefined(e)||_.isNull(e)||_.isEmpty(e)},e.isNotBlank=function(i){return!e.isBlank(i)},e.isEmpty=function(i){return e.isNotBlank(i)&&_.isEmpty(_.trim(i))},e.isNotEmpty=function(i){return!e.isEmpty(i)},e.normalizeForUrl=function(e,i){return _.toLower(_.replace(_.deburr(i?_.snakeCase(e):e),/[^\w]/gi,""))},e})}(),function(){"use strict";function e(e){var i={};return i.buildUrl=function(i,n){var t=e(n);return t.length>0&&(i+=(-1===i.indexOf("?")?"?":"&")+t),i},i.withParam=function(e,n,t){var r=e.split("?")[1],o=r?JSON.parse('{"'+r.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(e,i){return""===e?i:decodeURIComponent(i)}):{};return o[n]=t,i.buildUrl(e,o)},i}e.$inject=["$httpParamSerializer"],angular.module("chroma.utils").factory("UrlBuilder",e)}();